(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{697:function(e,t,n){Promise.resolve().then(n.bind(n,448))},448:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(7437),s=n(2265),a=n(6110),i=n(3023),l=n(4168),o=n(7309),d=n(7918),c=n(1396),u=n.n(c);function f(e){let{patients:t}=e;return 0===t.length?(0,r.jsx)(a.Zb,{children:(0,r.jsxs)(a.aY,{className:"flex flex-col items-center justify-center p-6",children:[(0,r.jsx)(l.P.users,{className:"h-10 w-10 text-muted-foreground mb-4"}),(0,r.jsx)("p",{className:"text-center text-muted-foreground",children:"No patients found. Try adjusting your search or filters."})]})}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,r.jsx)(m,{patient:e},e.id))})}function m(e){let{patient:t}=e,n=t.name.split(" ").map(e=>e[0]).join("");return(0,r.jsxs)(a.Zb,{className:"overflow-hidden",children:[(0,r.jsx)(a.Ol,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(o.qE,{className:"h-10 w-10",children:(0,r.jsx)(o.Q5,{children:n})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ll,{className:"text-base",children:t.name}),(0,r.jsx)(a.SZ,{children:t.id})]})]}),(0,r.jsx)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:(0,r.jsx)(u(),{href:"/consultation/new?patient=".concat(encodeURIComponent(t.name)),children:(0,r.jsx)(l.P.chevronRight,{className:"h-4 w-4"})})})]})}),(0,r.jsxs)(a.aY,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Age"}),(0,r.jsx)("p",{children:"string"==typeof t.age&&("N/A"===t.age||"Not mentioned"===t.age)?"Unknown":t.age})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Gender"}),(0,r.jsx)("p",{children:"string"==typeof t.gender&&("N/A"===t.gender||"Not mentioned"===t.gender)?"Unknown":t.gender})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Consultations"}),(0,r.jsx)("p",{children:t.consultations})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Last Visit"}),(0,r.jsx)("p",{children:(e=>{try{return(0,d.ZP)(new Date(e),"MMM d, yyyy")}catch(e){return"Unknown"}})(t.lastVisit)})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)(i.z,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:(0,r.jsxs)(u(),{href:"/patients/".concat(t.id),children:[(0,r.jsx)(l.P.user,{className:"mr-2 h-3 w-3"}),"Profile"]})}),(0,r.jsx)(i.z,{variant:"outline",size:"sm",className:"flex-1",asChild:!0,children:(0,r.jsxs)(u(),{href:"/consultation/new?patient=".concat(encodeURIComponent(t.name)),children:[(0,r.jsx)(l.P.fileText,{className:"mr-2 h-3 w-3"}),"New Consult"]})})]})]})]})}var h=n(1908);function x(e){let{searchQuery:t,onSearchChange:n}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.P.search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,r.jsx)(h.I,{placeholder:"Search patients by name or ID...",value:t,onChange:e=>n(e.target.value),className:"pl-9"})]})}var g=n(9155),p=n(9311);function v(e){let{activeFilter:t,onFilterChange:n,patientCount:s}=e;return(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"pb-3",children:[(0,r.jsx)(a.ll,{children:"Filters"}),(0,r.jsxs)(a.SZ,{children:[s," patient",1!==s?"s":""," found"]})]}),(0,r.jsx)(a.aY,{children:(0,r.jsx)("div",{className:"space-y-2",children:[{id:"all",name:"All Patients"},{id:"recent",name:"Recently Seen"},{id:"followup",name:"Needs Follow-up"}].map(e=>(0,r.jsxs)(i.z,{variant:"ghost",className:(0,p.cn)("w-full justify-start",t===e.id&&"bg-primary/10"),onClick:()=>n(e.id),children:[e.name,"followup"===e.id&&(0,r.jsx)(g.C,{className:"ml-auto",children:"2"})]},e.id))})})]})}function N(){let[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(""),[o,d]=(0,s.useState)("all");(0,s.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("transcriptions")||"[]");t(e);let n=()=>{let e=JSON.parse(localStorage.getItem("transcriptions")||"[]");t(e)};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[]);let c=e.reduce((e,t)=>{var n,r,s,a,i,l,o,d,c,u,f,m;let h=e.findIndex(e=>e.name===t.patientName);if(h>=0){let n=new Date(e[h].lastVisit).getTime(),r=new Date(t.date).getTime();return r>n&&(e[h].lastVisit=t.date),e[h].consultations+=1,e}return e.push({id:"P-".concat(t.id),name:t.patientName,age:(null===(s=t.generatedNote)||void 0===s?void 0:null===(r=s.result)||void 0===r?void 0:null===(n=r.patientInfo)||void 0===n?void 0:n.age)||"N/A",gender:(null===(l=t.generatedNote)||void 0===l?void 0:null===(i=l.result)||void 0===i?void 0:null===(a=i.patientInfo)||void 0===a?void 0:a.gender)||"N/A",dob:(null===(c=t.generatedNote)||void 0===c?void 0:null===(d=c.result)||void 0===d?void 0:null===(o=d.patientInfo)||void 0===o?void 0:o.dob)||"N/A",phone:(null===(m=t.generatedNote)||void 0===m?void 0:null===(f=m.result)||void 0===f?void 0:null===(u=f.patientInfo)||void 0===u?void 0:u.contact)||"N/A",email:"N/A",address:"N/A",consultations:1,lastVisit:t.date}),e},[]),m=c.filter(e=>{let t=e.name.toLowerCase().includes(n.toLowerCase())||e.id.toLowerCase().includes(n.toLowerCase());return"all"===o?t:"recent"===o?t&&new Date(e.lastVisit)>new Date(Date.now()-2592e6):t});return(0,r.jsxs)("div",{className:"container mx-auto p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"font-heading text-2xl font-bold",children:"Patient Records"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage your patients and view their consultation history"})]}),(0,r.jsx)(i.z,{asChild:!0,children:(0,r.jsxs)(u(),{href:"/consultation/new",children:[(0,r.jsx)(l.P.userPlus,{className:"mr-2 h-4 w-4"}),"New Patient"]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-4",children:[(0,r.jsx)("div",{className:"md:col-span-1",children:(0,r.jsx)(v,{activeFilter:o,onFilterChange:d,patientCount:m.length})}),(0,r.jsxs)("div",{className:"md:col-span-3",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(x,{searchQuery:n,onSearchChange:a})}),(0,r.jsx)(f,{patients:m})]})]})]})}},7309:function(e,t,n){"use strict";n.d(t,{F$:function(){return o},Q5:function(){return d},qE:function(){return l}});var r=n(7437),s=n(2265),a=n(6694),i=n(9311);let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...s})});l.displayName=a.fC.displayName;let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",n),...s})});o.displayName=a.Ee.displayName;let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)(a.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...s})});d.displayName=a.NY.displayName},9155:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var r=n(7437);n(2265);var s=n(9213),a=n(9311);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:n,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:n}),t),...s})}},3023:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(7437),s=n(2265),a=n(7256),i=n(9213),l=n(9311);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(o({variant:s,size:i,className:n})),ref:t,...c})});d.displayName="Button"},6110:function(e,t,n){"use strict";n.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var r=n(7437),s=n(2265),a=n(9311);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...s})});u.displayName="CardFooter"},4168:function(e,t,n){"use strict";n.d(t,{P:function(){return V}});var r=n(7607),s=n(1291),a=n(7158),i=n(3523),l=n(8004),o=n(3715),d=n(9409),c=n(4043),u=n(7803),f=n(4900),m=n(3101),h=n(4591),x=n(6637),g=n(7982),p=n(3857),v=n(6141),N=n(3589),j=n(4737),b=n(2295),w=n(1274),y=n(1827),Z=n(2442),C=n(5750),k=n(7972),R=n(4527),P=n(8063),I=n(5355),S=n(8203),z=n(5119),A=n(9883),D=n(5646),E=n(5453),L=n(4023),O=n(2549);let V={logo:r.Z,stethoscope:r.Z,chevronLeft:s.Z,chevronRight:a.Z,chevronDown:i.Z,menu:l.Z,spinner:o.Z,settings:d.Z,mic:c.Z,micOff:u.Z,play:f.Z,pause:m.Z,stopCircle:h.Z,fileText:x.Z,fileCheck:g.Z,fileDown:p.Z,clock:v.Z,edit:N.Z,trash:j.Z,save:b.Z,share:w.Z,search:y.Z,check:Z.Z,users:C.Z,user:k.Z,userPlus:R.Z,alertCircle:P.Z,helpCircle:I.Z,calendar:S.Z,layoutDashboard:z.Z,plus:A.Z,listChecks:D.Z,more:E.Z,align:L.Z,x:O.Z}},1908:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(7437),s=n(2265),a=n(9311);let i=s.forwardRef((e,t)=>{let{className:n,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},9311:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(7042),s=n(4769);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[70,396,918,971,864,744],function(){return e(e.s=697)}),_N_E=e.O()}]);